## 作业管理之进程调度

>### 进程调度概述
* 基于 `多道程序设计`，`进程调度是指计算机通过决策决定哪个就绪进程可以获得 CPU 使用权`
* 步骤
    * 保留旧进程的运行信息，请出旧进程（收拾包袱）
    * 选择新进程，准备运行环境并分配 `CPU`（新进驻）
* 就绪队列
    * -> `就绪进程7` -> `就绪进程6` -> `就绪进程5` -> `就绪进程4` -> `就绪进程3` -> `就绪进程2` -> `就绪进程1` ->
* 三个重要机制
    * 就绪队列的排队机制
        * 将就绪进程按照一定的方式排成队列，以便调度程序可以最快的找到就绪进程
    * 选择运行进程的委派机制
        * 调度程序以一定的策略选择就绪进程，将 `CPU` 资源分配给它
    * 新老进程的上下文切换机制
        * 保存当前进程的上下文信息，装入被委派执行进程的运行上下文（先将老进程的上下文备份至主存，再将新进程的上下文导入 `CPU` 准备好新环境以便新进程的运行）
* 进程的两种分类（如何确定切换新老进程时，老进程是非执行完？）
    * 抢占式调度
        * 处理器一旦分配给某个进程，就让该进程一直使用下去
        * 调度程序不以任何原因抢占正在被使用的处理器
        * 直到进程完成工作或因为 `IO` 阻塞才会让出处理器
    * 非抢占式调度
        * 允许调度程序以一定的策略暂停当前运行的进程
        * 保存好旧进程的上下文信息，分配处理器给新进程
        
    | | USER | PR |
    | :---: | :---: | :---: |
    | 系统开销 | 频繁切换，开销大 | 切换次数少，开销小 |
    | 公平性 | 相对公平 | 不公平 |
    | 应用 | 通用系统 | 专用系统 |
    
>### 进程调度算法
* 先来先服务调度算法
    * 优先取队列最前面的进程进行调度
* 短进程优先调度算法
    * 调度程序优先选择就绪队列中估计运行时间最短的进程
    * 短进程有限调度算法不利于长作业进程的执行
* 高优先权优先调度算法
    * 进程附带优先权，调度程序优先选择权重高的进程
    * 高优先权调度算法使得紧迫的任务可以优先处理（例如，前来进程的优先级高于后台进程）
* 时间片轮转调度算法
    * 按先来先服务的原则排列就绪进程
    * 每次从队列头部取出待执行进程，分配一个时间片执行
    * 是相对公平的调度算法，但不能保证及时响应用户
