## 计算机的指令系统

>### 机器指令的形式
* 机器指令主要由两部分组成：操作码，地址码
    * 操作码
        * 指明指令所要完成的工作
        * 操作码的位数反映了机器的操作种类
    * 假设操作码字段有 8 位，则操作数量为 2<sup>8</sup> = 256
* 地址码
* 直接给出操作数或者操作数的地址
* 分三地址指令，二地址指令和一地址指令
* 例
    * 三地址指令
        * 操作码（OP） addr1 addr2 addr3
        * 一般执行过程为  (addr1)OP(addr2) → (addr3)，如果该过程为加法运算，则 addr1 和 addr2 分别表示两个加数，OP 表示加法运算操作，addr3 为运算结果
    * 二地址指令
        * 操作码（OP） addr1 addr2
        * 一般执行过程为  (addr1)OP(addr2) → (addr1) 或 (addr2)
    * 一地址指令
        * 一般执行过程为  (addr1)OP → (addr1) 或 (addr1)OP(ACC) → (addr1)，后者可以表示进行默认的操作，此操作不需要其他参数，如自增，自减运算
    * 零地址指令
        * 在机器指令中无地址码
        * 空操作，停机操作，中断返回操作等

>### 机器指令的操作类型
* `数据传输`
    * 寄存器之间，寄存器与存储单元，存储单元之间的数据传输
    * 数据读写，交换地址数据，清零置一等操作
* `算术逻辑操作`
    * 操作数之间的四则运算
    * 操作数的与，或，非等逻辑运算
* `移位操作`
    * 数据左移（乘 2），数据右移（除以 2）
    * 是完成数据在算术逻辑单元的必要操作
* `控制指令`
    * 等待指令，停机指令，空操作指令，中断指令

>### 机器指令的寻址方式
* `指令寻址`

    | 地址 | 指令 |
    | :----: | :----: |
    | 101 | MOV R0, R1 |
    | 102 | LAD R1, 6 |
    | 103 | ADD R1, R2 |
    | 104 | AND R1, R3 |
    | 105 | JMP 102 |

    * 顺序寻址
    * 跳跃寻址（如：JMP）
* `数据寻址`
    * 立即寻址
        * 指令直接获得操作数
        * 无需访问存储器
    * 直接寻址
        * 直接给出操作数在主存的地址
        * 寻找操作数简单，无需计算数据地址
    * 间接寻址
        * 指令地址码给出的操作数地址的地址
        * 需要访问一直或者多次主存来获取操作数
* 对比

    | 寻址方式 | 优点 | 缺点 |
    | :----: | :----: | :----: |
    | 立即寻址 | 速度快 | 地址码位数 `限制操作数表示范围` |
    | 直接寻址 | 寻找操作数简单 | 地址码位数 `限制操作数寻址范围` |
    | 间接寻址 | 操作数寻址范围大 | 速度较慢 |
